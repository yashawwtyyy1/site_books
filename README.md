# Readlyst — книжный каталог

В проекте реализован учебный онлайн-сервис книжного каталога на PHP/MySQL с разделением ролей (гость, пользователь и администратор). Для клиента используются HTML5, CSS3, Bootstrap 5 и jQuery. Все валидации форм выполняются без перезагрузки страниц, авторизация и административные функции работают через сессию.

## Основные возможности

- **Каталог книг** с поиском по названию, авторам и жанрам.
- **Фильтрация по жанрам** и отдельные карточки книг.
- **Доступ к описанию книги** только для авторизованных пользователей.
- **Регистрация** с проверкой логина на уникальность через AJAX и клиентской валидацией.
- **Авторизация** и выход из аккаунта.
- **Административная панель** для управления авторами, жанрами, книгами и блокировкой пользователей.
- **Загрузка обложек книг** с сохранением на сервере.
- **Инициализация БД** и создание учётной записи администратора при первом запуске.

## Запуск проекта локально

1. Создайте базу данных MySQL `readlyst` (название можно поменять в `config/database.php`).
2. Убедитесь, что у PHP есть расширение `pdo_mysql` и права на запись в каталог `uploads/`.
3. Настройте параметры подключения к базе в файле `config/database.php`.
4. Настройте виртуальный хост или запустите встроенный сервер PHP из корня проекта:
   ```bash
   php -S localhost:8000
   ```
5. При первом обращении к сайту автоматически создаются таблицы и начальные данные (жанры, авторы, книги) вместе с администратором `admin` / `admin123`.

## Структура доступа

- **Гость**: видит каталог, может искать и фильтровать книги, но не открывает страницу книги.
- **Пользователь**: после регистрации и авторизации получает доступ к страницам книг.
- **Администратор**: дополнительные возможности по управлению каталогом и пользователями через `/admin/index.php`.

## Проверка уникальности логина

AJAX-запрос для проверки логина расположен по адресу `/ajax/check_username.php`. Клиентская логика находится в `assets/js/register.js`.

## Статические ресурсы

Исходные макеты и изображения из каталога `home/`, `register/`, `authorization/` и `about_book/` используются в актуальных страницах, чтобы сохранить внешний вид сверстанных шаблонов.

## Безопасность

- Все формы защищены CSRF-токенами.
- Пароли пользователей хранятся в виде хэшей (bcrypt).
- Для загрузки обложек проверяется MIME-тип и используется случайное имя файла.

## Создание администратора и данных

Если таблица пользователей пуста, автоматически создаётся администратор:

- Логин: `admin`
- Email: `admin@example.com`
- Пароль: `admin123`

Также добавляются примерные жанры, авторы и книги для тестирования интерфейса.

## Дополнительные замечания

- Все элементы навигации доступны через UI.
- При изменении/удалении сущностей используется стратегия POST/Redirect/GET, чтобы избежать повторной отправки форм.

Приятной работы с проектом!
